<Page x:Class="Online_Meeting.Client.Views.Pages.MeetingRoomView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Meeting Room" 
      x:ClassModifier="public"
      Background="#F5F5F5">

    <Page.Resources>
        <!-- Button Style -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="30,15"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1976D2"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="8"
                            SnapsToDevicePixels="True">
                            <ScrollViewer x:Name="PART_ContentHost"
                                    Focusable="False"
                                    Margin="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"/>
                        </Border>

                        <ControlTemplate.Triggers>
                            <!-- Khi focus đổi màu border -->
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#2196F3"/>
                            </Trigger>

                            <!-- Khi hover -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#999999"/>
                            </Trigger>

                            <!-- Khi disabled -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#F5F5F5"/>
                                <Setter Property="Foreground" Value="#999999"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Card Style -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Width" Value="350"/>
            <Setter Property="Margin" Value="20"/> 
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#000000" 
                                    Opacity="0.1" 
                                    BlurRadius="20" 
                                    ShadowDepth="2"/>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>

    <Grid>
        <!-- Background Gradient -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#F5F7FA" Offset="0"/>
                <GradientStop Color="#E8EDF3" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <!-- Main Content -->
        <Grid Margin="50">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,40">
                <TextBlock Text="ONLINE MEETING" 
                          FontSize="32" 
                          FontWeight="Bold" 
                          Foreground="#2C3E50"
                          HorizontalAlignment="Center"/>
                <TextBlock Text="Kết nối mọi lúc mọi nơi" 
                          FontSize="16" 
                          Foreground="#7F8C8D"
                          HorizontalAlignment="Center"
                          Margin="0,8,0,0"/>
            </StackPanel>

            <!-- Meeting Options -->
            <Grid Grid.Row="1" VerticalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="0"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Create Meeting Card -->
                <Border Grid.Column="0" Style="{StaticResource CardStyle}">
                    <StackPanel>
                        <!-- Icon -->
                        <Border Width="100" 
                               Height="100" 
                               Background="#E3F2FD" 
                               CornerRadius="50"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,25">
                            <Viewbox Width="50" Height="50">
                                <Canvas Width="24" Height="24">
                                    <Path Fill="#2196F3" 
                                          Data="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>
                                </Canvas>
                            </Viewbox>
                        </Border>

                        <!-- Title -->
                        <!-- Title -->
                        <TextBlock Text="Create Meeting" 
                                  FontSize="24" 
                                  FontWeight="SemiBold" 
                                  Foreground="#2C3E50"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,10"/>

                        <!-- Description -->
                        <TextBlock Text="Tạo phòng họp mới và mời người khác tham gia" 
                                  FontSize="14" 
                                  Foreground="#7F8C8D"
                                  TextAlignment="Center"
                                  TextWrapping="Wrap"
                                  Margin="0,0,0,20"
                                  MaxWidth="300"/>

                        <!-- Room Key Input
                        <TextBlock Text="Mã phòng (tự động):" 
                                  FontSize="14" 
                                  Foreground="#555555"
                                  Margin="0,0,0,8"/>

                        <TextBox x:Name="RoomKeyTextBox"
                                Style="{StaticResource ModernTextBox}"
                                Margin="0,0,0,15"
                                IsReadOnly="True"
                                TextAlignment="Center"
                                FontWeight="Medium"
                                Background="#F0F0F0"/> -->

                        <!-- Room Name Input -->
                        <TextBlock Text="Tên phòng họp:" 
                                  FontSize="14" 
                                  Foreground="#555555"
                                  Margin="10,0,0,8"/>

                        <!-- TextBox sử dụng style -->
                        <TextBox x:Name="RoomNameTextBox"
                             Margin="5,0,5,20"
                             MaxLength="50"
                             Height="50"
                             FontSize="16"
                             Padding="12"
                             BorderThickness="2"
                             BorderBrush="#CCCCCC">         
                            <TextBox.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="8"/>
                                </Style>
                            </TextBox.Resources>
                            <TextBox.Style>
                                <Style TargetType="TextBox">
                                    <Style.Triggers>
                                        <Trigger Property="IsFocused" Value="True">
                                            <Setter Property="BorderBrush" Value="#2196F3"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBox.Style>
                        </TextBox>

                        <!-- Create Button -->
                        <Button Content="Tạo Cuộc Họp" 
                               Style="{StaticResource ModernButton}"
                               Background="#2196F3"
                               HorizontalAlignment="Center"
                               Click="OpenPreview_Click"/>
                    </StackPanel>
                </Border>

                <!-- Divider -->
                <Border Grid.Column="1" 
                       Width="2" 
                       Background="#E0E0E0" 
                       VerticalAlignment="Stretch"
                       Margin="0,50"/>

                <!-- Join Meeting Card -->
                <Border Grid.Column="2" Style="{StaticResource CardStyle}">
                    <StackPanel>
                        <!-- Icon -->
                        <Border Width="100" 
                               Height="100" 
                               Background="#E8F5E9" 
                               CornerRadius="50"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,25">
                            <Viewbox Width="50" Height="50">
                                <Canvas Width="24" Height="24">
                                    <Path Fill="#4CAF50" 
                                          Data="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                                </Canvas>
                            </Viewbox>
                        </Border>

                        <!-- Title -->
                        <TextBlock Text="Join Meeting" 
                                  FontSize="24" 
                                  FontWeight="SemiBold" 
                                  Foreground="#2C3E50"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,10"/>

                        <!-- Description -->
                        <TextBlock Text="Tham gia cuộc họp bằng mã phòng" 
                                  FontSize="14" 
                                  Foreground="#7F8C8D"
                                  TextAlignment="Center"
                                  TextWrapping="Wrap"
                                  Margin="0,0,0,20"
                                  MaxWidth="300"/>

                        <!-- Meeting Code Input -->
                        <TextBlock Text="Mã cuộc họp:" 
                                  FontSize="14" 
                                  Foreground="#555555"
                                  Margin="10,0,0,8"/>

                        <TextBox x:Name="MeetingCodeTextBox"
                             Margin="5,0,5,20"
                             MaxLength="50"
                             Height="50"
                             FontSize="16"
                             Padding="12"
                             TextAlignment="Center"
                             BorderThickness="2"
                             BorderBrush="#CCCCCC">         
                            <TextBox.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="8"/>
                                </Style>
                            </TextBox.Resources>
                            <TextBox.Style>
                                <Style TargetType="TextBox">
                                    <Style.Triggers>
                                        <Trigger Property="IsFocused" Value="True">
                                            <Setter Property="BorderBrush" Value="#2196F3"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBox.Style>
                        </TextBox>

                        <!-- Join Button -->
                        <Button Content="Tham Gia" 
                               Style="{StaticResource ModernButton}"
                               Background="#4CAF50"
                               HorizontalAlignment="Center"
                               Click="JoinByKeyBtn_Click"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>

        <!-- Footer Info -->
        <TextBlock Text="Powered by WebRTC • P2P Technology" 
                  FontSize="12" 
                  Foreground="#95A5A6"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Bottom"
                  Margin="0,0,0,15"/>
    </Grid>
</Page>